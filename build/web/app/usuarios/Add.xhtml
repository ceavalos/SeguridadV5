<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../WEB-INF/include/template.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="body">
        <h:form>
            <p:messages id="mensaje" autoUpdate="false" />
             <p:fieldset legend="Datos de usuarios">
               <h:panelGrid columns="3" id="PgDatos">
                   
                    <p:outputLabel value="Codigo" for="Codigo" />
                    <p:inputText id="Codigo" value="#{usuariosController.usuarios.codUsuario}" title="Codigo Usuario" required="true" requiredMessage="Codigo de usuario Obligatorio"/>
                    <p:message for="Codigo" />
                    
                    <p:outputLabel for="Estado" value="Estado" />
                    <p:selectOneMenu id="Estado" value="#{usuariosController.usuarios.estado}"  >
                        <f:selectItem itemLabel="Seleccione Estado" itemValue=""/>                    
                        <f:selectItem itemLabel="Activo" itemValue="A"/>                    
                        <f:selectItem itemLabel="No Activo" itemValue="D"/>                    
                    </p:selectOneMenu>
    		    <p:message for="Estado" />

                     
                    <p:outputLabel value="Empresa" for="Empresa" />
                    <p:selectOneMenu id="Empresa" value="#{usuariosController.usuarios.idEmpresa}"  >                        
                        <f:selectItem itemLabel="Seleccione Empresa" itemValue=""/>
                        <f:selectItems value="#{empresaController.listado}" 
                                       var="idEmpresaItem"
                                       itemValue="#{idEmpresaItem}"
                                       itemLabel="#{idEmpresaItem.idEmpresa.toString()}"
                                       />
                    </p:selectOneMenu>
                    <p:message for="Empresa" />
                                                            
                    <p:outputLabel value="Clave" for="Clave" />
                    <p:password id="Clave" value="#{usuariosController.usuarios.clave}" match="Clave2" feedback="true" promptLabel="Ingrese la clave" 
                                validatorMessage="Las claves no son iguales" required="true" requiredMessage="La Clave es obligatoria" /> 
                    <p:message for="Clave" />

                    <p:outputLabel value="RepetirClave" for="Clave2" />
                    <p:password id="Clave2" value="#{usuariosController.usuarios.clave}" title="Clave2" required="true" requiredMessage="Repetir Clave es obligatoria"/> 
                    <p:message for="Clave2" />
                    
                </h:panelGrid>                
                 <p:commandButton value="Registrar" icon="ui-icon-check" update="PgDatos" actionListener="#{usuariosController.registrar()}"/>

             </p:fieldset>            
            </h:form>
    </ui:define>

</ui:composition>
